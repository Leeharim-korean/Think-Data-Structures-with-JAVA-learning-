출처: https://gazelle-and-cs.tistory.com/87 [Gazelle and Computer Science]
어떤 자료 구조의 특정 연산들(operations)의 수행 시간이 상황이나 상태에 따라 달라지는 경우를 우리는 꽤 자주 접할 수 있습니다. 흥미롭게도, 이러한 연산들은 최악의 경우에는 매우 긴 시간을 필요로 하지만 그러한 상황이 자주 발생하지 않는, 위 예시와 비슷한 특징을 갖기도 합니다. 따라서 우리가 이러한 연산들을 어떤 순서로든 n번 수행했다고 했을 때, 이를 모두 완료하는데 필요한 시간을 이 연산들이 보이는 최악의 수행 시간에 n을 곱한 것으로 생각하는 것은 이 연산들의 실제 능력을 과하게 평가절하하는 행동입니다.

대신 n번의 연산 시퀀스(sequence)를 모두 처리하는데 필요한 시간의 상한(upper-bound) T(n)을 어떤 방식으로든지 구할 수 있다면, 우리는 이 연산들이 평균적으로 T(n)/n의 시간에는 동작한다고 말할 수 있습니다. 이때 T(n)/n의 값이 최악의 경우에 필요한 수행 시간에 비해 현저히 작다면, 이 연산들이 실제로는 더 좋은 성능을 나타낸다고 결론 지을 수 있겠죠.

이렇게 어느 자료 구조의 연산들의 임의의 시퀀스가 주어졌을 때, 그 시퀀스 위의 모든 연산들이 수행되는 동안 각 연산의 평균적인 수행 시간을 분석하는 방법을 분할 상환 분석(amortized anlaysis)이라고 합니다. 여기서 '분할 상환'이라는 이름이 붙은 이유는 연산의 시퀀스를 수행할 때 길게 걸릴 때의 수행 시간을 잘 쪼갠 후(분할) 짧게 걸릴 때에다 재분배를 해준다(상환)는 식으로 생각하면 편합니다. 그러면 짧게 걸릴 때의 시간은 소폭 증가할 테지만 길게 걸릴 때의 수행 시간을 대폭 낮출 수 있으며, 따라서 평균적으로는 최악의 경우만큼 수행 시간을 필요로 하지 않음을 보일 수 있죠.

분할 상환 분석과 대조되는 분석 방법은 각 연산이 실제로 최악의 경우 걸리는 시간을 분석하는 것으로 이 방법을 최악의 경우 분석(worst-case analysis)이라고 부릅니다. 예를 들어, 위 커피 예제에서 각 사원이 커피를 마시는 데 필요한 시간은 최악의 경우 분석으로는 약 10분이나, 분할 상환 분석으로는 약 1분이 됩니다.

분할 상환 분석과 평균의 경우 분석(average-case analysis)을 헛갈려 하시는 분들이 많이 있습니다. 결론을 말씀드리면, 두 분석은 완전히 다릅니다. 분할 상환 분석은 확률의 개념이 포함되지 않습니다. 대신 임의의 연산의 시퀀스가 주어졌을 때 이를 모두 수행하는 동안 각 연산의 평균 수행 시간을 계산합니다. 가끔 연산 시퀀스의 길이가 충분히 긴 경우(즉, 이 충분히 큰 경우)를 가정하기도 하지만, 어쨌거나 이는 확률의 영역이 아닙니다.

그에 반해 평균의 경우 분석을 하기 위해서는 입력을 결정하는 특정 확률 분포(probability distribution)가 필요합니다. 이때 분석하는 것은 해당 분포에 따라서 입력이 주어질 때, 알고리즘이 모두 수행되는데 필요한 시간의 평균값입니다. 이는 알고리즘의 확률적 분석(probabilistic analysis of algorithms)의 영역에 속합니다. 관련하여 더 자세한 내용이 궁금하시면 아래 글을 참조하세요.

2020.11.28 - [알고리즘 & 확률/Basic] - 랜덤 알고리즘과 알고리즘의 확률적 분석
https://gazelle-and-cs.tistory.com/75